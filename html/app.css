:root{
  --panel-h: 45px;
  --panel-w: 120px;
  --radius: 16px;
  --shadow: 0 10px 28px rgba(0,0,0,.18);
  --bg: rgba(255,255,255,.92);
  --stroke: rgba(0,0,0,.08);
  --accent: #3A78FF;
  --danger: #E85050;
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Microsoft YaHei", sans-serif; }
body{
  background: transparent;   /* important for Neutron */
  overflow:hidden;
}

/* Whole dock - position relative for toggle positioning */
.dock{
  position: relative;
  height: 100vh;
  display:flex;
  align-items:center;
  justify-content: flex-end; /* 靠右对齐，方便向左收缩 */
  align-items: center;     
  justify-content: flex-end;
  padding: 0;
  -webkit-app-region: drag;
}

/* 2. 新增：手柄样式 (仿 ToDesk 蓝色风格) */
.handle {
  width: 24px;       /* 手柄宽度 */
  height: 40px;      /* 手柄高度 */
  background: #3A78FF;
  border-radius: 12px 0 0 12px; /* 左侧圆角，右侧直角连接面板 */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: -2px 4px 12px rgba(58, 120, 255, 0.3);
  z-index: 10;       /* 保证层级 */
  transition: all 0.2s ease;
}

.handle:hover {
  background: #3367d6; /* hover 变深色 */
}

.handle svg {
  width: 20px;
  height: 20px;
  fill: white;
  transition: transform 0.3s ease;
}

.dock.collapsed .panel {
  display: none; /* 直接隐藏面板 */
}

.dock.collapsed .handle {
  border-radius: 12px; /* 收起时变成全圆角，或者保持 12px 0 0 12px 看你喜好 */
  width: 32px; /* 收起时稍微宽一点点方便点击 */
}

/* 让箭头旋转 180度 */
.dock.collapsed .handle svg {
  transform: rotate(180deg);
}

/* Panel */
.panel{
  height: var(--panel-h);
  width: auto;    
  flex: 0 0 auto;   
  border-radius: var(--radius);
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  background: var(--bg);
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow);
  display: flex;
  justify-content: space-between;
  padding: 6px 8px;
  gap: 6px;
  overflow:hidden;
  transition: opacity 0.2s, transform 0.2s;
}


/* Keyboard button */
.kbd{
  width: 44px;
  height: 44px;
  margin-right: 10px;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.08);
  background: rgba(255,255,255,.75);
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: transform .12s ease, background .18s ease, border-color .18s ease;
}
/* 防止按钮失效 */
.kbd, .close, .handle {
  -webkit-app-region: no-drag;
  cursor: pointer; 
}
.kbd:hover{ background: rgba(196, 196, 196, 0.507); }
.kbd:active{ transform: translateY(1px); }
.kbd svg{ width: 22px; height: 22px; }
.kbd svg path{ fill: rgba(0,0,0,.78); }

/* Blocked state (red) */
.panel.blocked{ border-color: rgba(232,80,80,.55); }
.panel.blocked .kbd{ background: rgba(232,80,80,.92); border-color: rgba(232,80,80,.2); }
.panel.blocked .kbd svg path{ fill: white; }

/* Close button */
.close{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.08);
  background: rgba(255,255,255,.75);
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: transform .12s ease, background .12s ease;
}
.close:hover{ background: rgba(196, 196, 196, 0.507); }
.close:active{ transform: translateY(1px); }
.close svg{ width: 20px; height: 20px; }
.close svg path{ fill: rgba(0,0,0,.78); }
