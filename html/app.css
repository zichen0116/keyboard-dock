:root{
  /* Base sizes - scaled for high DPI (2x) */
  --panel-h: 90px;
  --panel-w: 200px;
  --button-size: 88px;
  --handle-w: 48px;
  --handle-w-collapsed: 64px;
  --handle-h: 80px;
  --radius: 32px;
  --button-radius: 24px;  
  --handle-radius: 24px;
  --shadow: 0 10px 28px rgba(0,0,0,.18);
  --bg: rgba(255,255,255,.92);
  --stroke: rgba(0,0,0,.08);
  --accent: #3A78FF;
  --danger: #E85050;
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Microsoft YaHei", sans-serif; }
body{
  background: transparent;   
  overflow:hidden;
}

/* Whole dock - position relative for toggle positioning */
.dock{
  position: relative;
  height: 100vh;
  display:flex;
  align-items:center;
  justify-content: flex-end; 
  align-items: center;     
  justify-content: flex-end;
  padding: 0;
  -webkit-app-region: drag;
}

.handle {
  width: var(--handle-w);       
  height: var(--handle-h);    
  background: var(--accent);
  border-radius: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: -2px 4px 12px rgba(58, 120, 255, 0.3);
  z-index: 10;       
  transition: all 0.2s ease;
}

.handle:hover {
  background: rgba(196, 196, 196, 0.507); /* hover 变深色 */
}

.handle svg {
  width: 40px;   
  height: 40px;  
  fill: #3367d6;
  transition: transform 0.3s ease;
}

.dock.collapsed .panel {
  display: none; 
}

.dock.collapsed .handle {
  border-radius: var(--handle-radius); 
  width: 56px; 
}

.dock.collapsed .handle svg {
  transform: rotate(180deg);
}

.panel{
  height: var(--panel-h);
  width: auto;
  flex: 0 0 auto;
  border-radius: var(--radius);
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  background: transparent;  
  border: none;             
  box-shadow: none;        
  display: flex;
  justify-content: space-between;
  padding: 12px 16px;  
  gap: 12px;          
  overflow:hidden;
  transition: opacity 0.2s, transform 0.2s;
}


/* Keyboard button */
.kbd{
  width: var(--button-size);
  height: var(--button-size);
  margin-right: 20px;  /* 2x scaling: 10px -> 20px */
  border-radius: 15px;
  border: 2px solid rgba(0,0,0,.08);
  background: rgba(255,255,255,.75);
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: transform .12s ease, background .18s ease, border-color .18s ease;
}

.kbd, .close, .handle {
  -webkit-app-region: no-drag;
  cursor: pointer;
}
.kbd:hover{ background: rgba(196, 196, 196, 0.507); }
.kbd:active{ transform: translateY(1px); }
.kbd svg{ width: 44px; height: 44px; }  
.kbd svg path{ fill: rgba(0,0,0,.78); }

/* Blocked state (red) */
.panel.blocked .kbd{ background: rgba(232,80,80,.92); border-color: rgba(232,80,80,.2); }
.panel.blocked .kbd svg path{ fill: white; }

/* Close button */
.close{
  width: var(--button-size);
  height: var(--button-size);
  border-radius: 15px;
  border: 2px solid rgba(0,0,0,.08);
  background: rgba(255,255,255,.75);
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: transform .12s ease, background .12s ease;
}
.close:hover{ background: rgba(196, 196, 196, 0.507); }
.close:active{ transform: translateY(1px); }
.close svg{ width: 40px; height: 40px; } 
.close svg path{ fill: rgba(0,0,0,.78); }
